{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","lib/storage.ts","components/PopoverContainer/index.tsx","config/languages/en-CA/general.js","config/languages/en-CA/exceptions.js","config/languages/index.ts","config/languages/en-CA/index.js","utils/helpers.js","config/env.js","config/flags.ts","lib/controller.ts","client/lang.ts","config/styles/responsive.ts","components/PopoverMenuBase/index.tsx","client/ui.ts","components/ListControlToolbar/index.tsx","lib/common.ts","components/MdIcon/index.tsx","config/styles/style-utils.ts","pages/MainPage/index.tsx","config/constants.ts","app.tsx","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","webpackAsyncContextKeys","Object","module","exports","Storage","PopoverContainer","observer","ui","cssClass","isOpen","popoverVisible","onDidDismiss","dismissPopover","popoverProps","popoverComponent","general","generalConfirm","generalCancel","generalYes","generalNo","generalAccept","generalDecline","generalRefuse","generalReject","generalIgnore","generalChange","generalReset","generalApply","generalSend","generalSubmit","generalNext","generalBack","generalEdit","generalSave","generalCreate","generalView","generalDiscard","generalUndo","generalMinimize","generalClose","generalAdd","generalRemove","generalDelete","generalNew","generalSelectAll","generalDeselectAll","generalExpandAll","generalCollapseAll","generalWarning","generalError","generalSuccess","generalFailure","generalRefresh","generalUnknown","generalDone","generalFinish","generalHelp","generalMore","generalAnd","generalOr","generalChoose","name","generalReconfirm","verb","item","generalMe","title","helloUser","displayName","menu","selectLanguage","welcome","characters","settings","copiedToClipboard","clearSidebarRecentEntries","comingSoon","pleaseWait","createdAt","updatedAt","submittedAt","applyToAll","search","searchStuff","swipeRevealHintLeft","swipeRevealHintRight","searchForTabs","currentWindow","otherWindow","copyTitle","copyUrl","duplicateTab","duplicateInBg","openStandalone","openInPrivate","windowTitle","length","enCAExceptions","POPOVER_CONTAINER_NOT_FOUND","languages","description","dictionary","exceptions","default","randomString","Math","random","toString","substring","safeParseJSON","string","suppress","parsed","JSON","parse","console","warn","isEmpty","obj","trim","Array","isArray","constructor","empty","preventDefaultStopProp","event","preventDefault","stopPropagation","parseErrorName","err","response","data","error","config","method","toUpperCase","url","statusText","concat","status","parseErrorMsg","includeStack","responseData","stack","message","trace","errorStr","stringify","asyncPause","ms","a","setTimeout","whenFulfill","conditioner","reject","wait","env","window","location","protocol","match","flags","observable","storageCleanupDate","Plugins","sweepStatus","finished","Store","disposer","getDriverData","get","key","result","value","waitSweep","when","registerStorageListener","autorun","set","restoreData","assign","isReady","ready","initProperty","propertyName","hasOwnProperty","dispose","clearStore","this","finally","getDeviceId","deviceStore","setDeviceId","checkSweepOldData","storageTimestamp","Date","getTime","lastCleanupDate","Number","clear","reload","Controller","storeName","disposers","storage","computed","_UIText","getLanguage","find","lang","switchLanguage","selected","store","preference","setUITextLanguage","navigator","language","defaultLanguage","alertController","create","translucent","header","buttons","text","handler","popup","present","replaceWithPlaceholderRecurse","defaultDictionary","catch","property","target","keyName","attributes","enumerable","defineProperty","UIText","responsive","mobileWidth","mql","matchMedia","addListener","deviceDimension","isMobile","matches","PopoverMenuBase","menuItems","dismiss","className","button","lines","color","fill","undefined","onClick","icon","slot","Clipboard","placeholderAvatarUrl","withTranslucent","defaultDuration","defaultToastDuration","copyStringToClipboard","noToast","write","toast","duration","substr","toLowerCase","position","clipboardNoValue","options","toastController","alert","input","inputs","enterKeyHandler","p","bindAlertInputEnterKey","action","actionSheetController","actionSheet","modal","modalController","rollerPicker","pickerController","picker","popover","persist","component","popoverMenu","showBackdrop","reconfirm","backdropDismiss","role","showError","actionName","subHeader","bindKeyCode","eventType","binding","combo","keyCode","keyBind","comboKeys","elm","document","getElementById","onkeyup","ListControlToolbar","props","searchBarElm","searchBarIconElm","searchBarRef","handleSearchIconClick","onSelectModeToggle","getSearchBarIconElm","getElementsByClassName","onclick","debounce","searchBarPlaceholder","onSearchChange","ref","searchIcon","checkmarkDoneSharp","onIonChange","placeholder","React","Component","matchTabs","tab","regExp","RegExp","audible","mutedInfo","muted","active","MdIcon","size","includes","getIonStyleVal","varName","getComputedStyle","documentElement","getPropertyValue","path","TabItem","onMouseButton","onContextMenu","onClose","onMute","onRefresh","onMouseDown","src","favIconUrl","alt","closeSharp","refreshSharp","volumeMuteSharp","volumeHighOutline","volumeOffOutline","ellipsisVertical","MainPage","controller","initialize","chrome","tabs","onUpdated","getTabs","onRemoved","onCreated","onbeforeunload","require","removeListener","windows","getCurrent","populate","windowId","getAll","loading","getWindowTitle","activeTab","t","handleSearchChange","searchValue","getEventRealValue","detail","checked","test","handleSelectToggle","selectMode","handleTabClick","allTabs","ctrlKey","update","focused","handleMouseButton","handleWindowClick","w","handleMenu","getTabMenuItems","incognito","handleClose","remove","handleRefresh","handleMute","renderTabItem","renderTabGroup","group","browsersOutline","arrayFlat","array","apply","filter","some","otherTabs","showOtherWindows","filteredTabs","filteredOtherTabGroups","otherTabGroups","vertical","horizontal","optionsOutline","side","mdiCollapseAll","mdiExpandAll","setupConfig","mode","App","ReactDOM","render"],"mappings":"8KAAA,IAAIA,EAAM,CACT,8BAA+B,CAC9B,GACA,GAED,uBAAwB,CACvB,GACA,GAED,uBAAwB,CACvB,GACA,GAED,0BAA2B,CAC1B,GACA,IAED,6BAA8B,CAC7B,GACA,IAED,0BAA2B,CAC1B,GACA,IAED,0BAA2B,CAC1B,GACA,IAED,wBAAyB,CACxB,GACA,IAED,0BAA2B,CAC1B,GACA,IAED,sBAAuB,CACtB,GACA,IAED,uBAAwB,CACvB,GACA,IAED,4BAA6B,CAC5B,GACA,IAED,uBAAwB,CACvB,GACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,oBAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7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","file":"static/js/main.40acef14.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t87,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t88,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t89,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t90,\n\t\t18\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t91,\n\t\t19\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t92,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t93,\n\t\t20\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t94,\n\t\t21\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t95,\n\t\t22\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t96,\n\t\t23\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t97,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t98,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t99,\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t100,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t101,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t102,\n\t\t25\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t103,\n\t\t26\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t104,\n\t\t27\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t105,\n\t\t28\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t106,\n\t\t29\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t107,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t108,\n\t\t15\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t109,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t110,\n\t\t30\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t111,\n\t\t31\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t112,\n\t\t32\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t113,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t114,\n\t\t17\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t115,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t116,\n\t\t33\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t117,\n\t\t34\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t118,\n\t\t35\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t119,\n\t\t36\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t120,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t121,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t122,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t123,\n\t\t37\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t124,\n\t\t16\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t125,\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t126,\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t127,\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t128,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t129,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 64;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t133,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 66;\nmodule.exports = webpackAsyncContext;","import { Plugins } from \"@capacitor/core\";\r\nimport { autorun, observable, when } from \"mobx\";\r\nimport { randomString, safeParseJSON } from \"../utils/helpers\";\r\nimport { env } from \"../config/env\";\r\nimport flags from \"../config/flags\";\r\n\r\nlet Storage;\r\n\r\n// if (env === \"prod\") {\r\n//   Storage = {};\r\n//   Storage.get = query => new Promise((resolve, reject) => chrome.storage.sync.get(query.key, resolve));\r\n//   Storage.set = ({ key, value }: { key: string; value: any; }) => new Promise(resolve => chrome.storage.sync.set({ [key]: value }, resolve));\r\n//   Storage.clear = () => new Promise(resolve => chrome.storage.sync.clear(resolve));\r\n// } else {\r\n  Storage = Plugins.Storage;\r\n// }\r\n\r\nconst sweepStatus = observable({\r\n  finished: false\r\n});\r\n\r\nexport interface PersistentStore<T> {\r\n  name: string;\r\n  disposer: () => void;\r\n  dispose: () => void;\r\n  clearStore: () => void;\r\n  data: T;\r\n}\r\n\r\nexport class Store<T> implements PersistentStore<T> {\r\n  disposer;\r\n  name: PersistentStore<T>[\"name\"];\r\n  @observable data: PersistentStore<T>[\"data\"] = {} as T;\r\n  @observable ready: boolean = false;\r\n\r\n  constructor(name) {\r\n    this.name = name;\r\n    this.waitSweep()\r\n    .then(this.restoreData)\r\n    .then(this.registerStorageListener)\r\n    .finally(() => this.ready = true);\r\n    return this;\r\n  }\r\n\r\n  getDriverData = async (): Promise<T> =>\r\n    Storage.get({ key: this.name })\r\n    .then(result => {\r\n      const { value } = result;\r\n      return safeParseJSON(value);\r\n    });\r\n\r\n  private waitSweep = () => when(() => !!sweepStatus.finished);\r\n\r\n  private registerStorageListener = () =>\r\n    this.disposer = autorun(() =>\r\n      Storage.set({\r\n        key: this.name,\r\n        value: JSON.stringify(this.data)\r\n      })\r\n    );\r\n\r\n  private restoreData = async () =>\r\n    this.getDriverData()\r\n    .then(data => {\r\n      if (data) Object.assign(this.data, data);\r\n      return Promise.resolve();\r\n    });\r\n\r\n  isReady = async () => when(() => this.ready);\r\n\r\n  initProperty = (propertyName: keyof T, data: T[keyof T]) => {\r\n    if (!this.data.hasOwnProperty(propertyName)) this.data[propertyName] = data;\r\n  };\r\n\r\n  dispose = () => this.disposer && this.disposer();\r\n\r\n  clearStore = () => this.data = {} as T;\r\n\r\n  static getDeviceId = () => deviceStore.data.id;\r\n\r\n  static setDeviceId = () => deviceStore.data.id = randomString();\r\n\r\n  static checkSweepOldData = async () => {\r\n    const storageTimestamp = await Storage.get({ key: \"timestamp\" });\r\n    const storageCleanupDate = flags.storageCleanupDate && new Date(flags.storageCleanupDate).getTime();\r\n    const lastCleanupDate = Number(storageTimestamp.value);\r\n    if (!storageCleanupDate) return;\r\n    if (!lastCleanupDate || lastCleanupDate < storageCleanupDate) {\r\n      return Storage.clear()\r\n      .then(() => Storage.set({ key: \"timestamp\", value: new Date().getTime().toString() }))\r\n      .then(() => window.location.reload());\r\n    }\r\n  };\r\n}\r\n\r\nStore.checkSweepOldData().then(Store.setDeviceId).finally(() => sweepStatus.finished = true);\r\n\r\nexport const deviceStore = new Store<{ id: string }>(\"device\");\r\n\r\nif (window && env as string !== \"prod\") (window as any).deviceStore = deviceStore;","import * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { IonPopover } from \"@ionic/react\";\r\nimport { UI } from \"../../client/ui\";\r\n\r\nconst PopoverContainer: React.FC<{ ui: UI }> = observer(({ ui }) => (\r\n  <IonPopover\r\n    cssClass=\"global-popover-container\"\r\n    isOpen={ui.popoverVisible}\r\n    onDidDismiss={ui.dismissPopover}\r\n    {...ui.popoverProps}\r\n  >\r\n    {ui.popoverComponent && <ui.popoverComponent />}\r\n  </IonPopover>\r\n));\r\n\r\nexport default PopoverContainer;","const general = {\r\n  generalConfirm: \"Ok\",\r\n  generalCancel: \"Cancel\",\r\n  generalYes: \"Yes\",\r\n  generalNo: \"No\",\r\n  generalAccept: \"Accept\",\r\n  generalDecline: \"Decline\",\r\n  generalRefuse: \"Refuse\",\r\n  generalReject: \"Reject\",\r\n  generalIgnore: \"Ignore\",\r\n  generalChange: \"Change\",\r\n  generalReset: \"Reset\",\r\n  generalApply: \"Apply\",\r\n  generalSend: \"Send\",\r\n  generalSubmit: \"Submit\",\r\n  generalNext: \"Next\",\r\n  generalBack: \"Back\",\r\n  generalEdit: \"Edit\",\r\n  generalSave: \"Save\",\r\n  generalCreate: \"Create\",\r\n  generalView: \"View\",\r\n  generalDiscard: \"Discard\",\r\n  generalUndo: \"Undo\",\r\n  generalMinimize: \"Minimize\",\r\n  generalClose: \"Close\",\r\n  generalAdd: \"Add\",\r\n  generalRemove: \"Remove\",\r\n  generalDelete: \"Delete\",\r\n  generalNew: \"New\",\r\n  generalSelectAll: \"Select all\",\r\n  generalDeselectAll: \"Deselect all\",\r\n  generalExpandAll: \"Expand all\",\r\n  generalCollapseAll: \"Collapse all\",\r\n  generalWarning: \"Warning\",\r\n  generalError: \"Error\",\r\n  generalSuccess: \"Success\",\r\n  generalFailure: \"Failure\",\r\n  generalRefresh: \"Refresh\",\r\n  generalUnknown: \"Unknown\",\r\n  generalDone: \"Done\",\r\n  generalFinish: \"Finish\",\r\n  generalHelp: \"Help\",\r\n  generalMore: \"More\",\r\n  generalAnd: \"And\",\r\n  generalOr: \"Or\",\r\n  generalChoose: name => `Choose ${name}`,\r\n  generalReconfirm: (verb, item) => `Are you sure you want to ${verb} ${item}?`,\r\n  generalMe: \"Me\",\r\n\r\n  title: \"AllTabs\",\r\n  helloUser: displayName => `Hello ${displayName}!`,\r\n\r\n  id: \"ID\",\r\n  menu: \"Menu\",\r\n  selectLanguage: \"Select Language\",\r\n\r\n  welcome: \"Welcome\",\r\n\r\n  characters: \"Characters\",\r\n\r\n  settings: \"Settings\",\r\n\r\n  copiedToClipboard: name => `${name || \"data\"} copied to clipboard!`,\r\n  clearSidebarRecentEntries: \"Clear recent entries\",\r\n  comingSoon: \"Coming soon!\",\r\n  pleaseWait: \"Please wait\",\r\n  get pleaseWaitLong() { return `${general.pleaseWait}, this may take a while` },\r\n\r\n  createdAt: \"Created\",\r\n  updatedAt: \"Updated\",\r\n  submittedAt: \"Submitted\",\r\n\r\n  applyToAll: \"Apply to all\",\r\n\r\n  search: \"Search\",\r\n  searchStuff: name => `${general.search} ${name}`,\r\n\r\n  swipeRevealHintLeft: \"Swipe left to see more options\",\r\n  swipeRevealHintRight: \"Swipe right to see more options\",\r\n\r\n  searchForTabs: \"Lookup Tabs\",\r\n  currentWindow: \"Current window\",\r\n  otherWindow: \"From other windows\",\r\n\r\n  copyTitle: \"Copy page title\",\r\n  copyUrl: \"Copy URL\",\r\n  duplicateTab: \"Duplicate tab\",\r\n  duplicateInBg: \"Duplicate in background\",\r\n  openStandalone: \"Open in new window\",\r\n  openInPrivate: \"Open in InPrivate\",\r\n\r\n  windowTitle: (title, length) => `${title}${length > 1 ? ` and ${length - 1} more` : \"\"}`\r\n};\r\n\r\nexport default general;","const enCAExceptions = {\r\n  POPOVER_CONTAINER_NOT_FOUND: \"No popover container present in the app, forgot to include one?\",\r\n};\r\n\r\nexport default enCAExceptions;","import { LanguageType } from \"../../lib/types/miscTypes\";\r\n\r\nimport English_Canada from \"./en-CA\";\r\n// import French_Canada from \"./fr-CA\";\r\n\r\nexport const languages: LanguageType[] = [\r\n  {\r\n    id: \"en-CA\",\r\n    description: \"English (Canada)\",\r\n    dictionary: English_Canada,\r\n    default: true\r\n  },\r\n  {\r\n    id: \"fr-CA\",\r\n    description: \"Français (Canada)\",\r\n    dictionary: {}\r\n  },\r\n  {\r\n    id: \"vi\",\r\n    description: \"Tiếng Việt\",\r\n    dictionary: {}\r\n  }\r\n];","import general from \"./general\";\r\nimport exceptions from \"./exceptions\";\r\n\r\nconst enCA = {\r\n  ...general,\r\n  exceptions\r\n};\r\n\r\nexport default enCA;","/* tslint:disable */\r\n/* eslint-disable */\r\nimport FastEqual from \"fast-deep-equal\";\r\n\r\nexport const objectToMultipart = object => {\r\n  let form_data = new FormData();\r\n\r\n  for (let key in object) {\r\n    if (object.hasOwnProperty(key)) {\r\n      form_data.set(key, object[key]);\r\n    }\r\n  }\r\n\r\n  return form_data;\r\n};\r\n\r\nexport const serializeObject = object => {\r\n  return Object.keys(object)\r\n    .map(key => key + \"=\" + object[key])\r\n    .join(\"&\");\r\n};\r\n\r\nexport const camelToWord = string => {\r\n  const result = string.replace( /([A-Z])/g, \" $1\" );\r\n  return result.charAt(0).toUpperCase() + result.slice(1);\r\n};\r\n\r\nexport const capitalize = string => {\r\n  if (!string) return \"\";\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n};\r\n\r\nexport const capitalizeAll = string => {\r\n  if (!string) return \"\";\r\n  const parts = string.split(/\\s/g);\r\n  return parts.map(p => capitalize(p)).join(\" \");\r\n};\r\n\r\nexport const getQueryParameters = str => {\r\n  return (str || \"\")\r\n    .replace(/(^\\?)/, \"\")\r\n    .split(\"&\")\r\n    .map(\r\n      function(n) {\r\n        return (n = n.split(\"=\")), (this[n[0]] = n[1]), this;\r\n      }.bind({})\r\n    )[0];\r\n};\r\n\r\nexport const randomString = () => {\r\n  return (\r\n    Math.random()\r\n      .toString(36)\r\n      .substring(2, 15) +\r\n    Math.random()\r\n      .toString(36)\r\n      .substring(2, 15)\r\n  );\r\n};\r\n\r\nexport const arrayFlat = array => array.concat.apply([], array);\r\n\r\nexport const groupArray = (array, keyField) => {\r\n  if (!Array.isArray(array) || array.length === 0) return {};\r\n  return array.reduce(function(r, a) {\r\n    r[a[keyField]] = r[a[keyField]] || [];\r\n    r[a[keyField]].push(a);\r\n    return r;\r\n  }, Object.create(null));\r\n};\r\n\r\nexport const findDeep = (input, nestedKey, key, value, cb) => {\r\n  if (!Array.isArray(input)) return cb({});\r\n  function find(input, nestedKey, key, id, cb) {\r\n    input.forEach(item => {\r\n      if (item[key] === value) cb(item);\r\n      if (item[nestedKey]) find(item[nestedKey], nestedKey, key, value, cb);\r\n    });\r\n  }\r\n  find(input, nestedKey, key, value, cb);\r\n};\r\n\r\nexport const safeParseJSON = (string, suppress) => {\r\n  let parsed;\r\n  try {\r\n    parsed = JSON.parse(string);\r\n  } catch (e) {\r\n    !suppress && console.warn(\"safeParseJSON\", string, e);\r\n  }\r\n  return parsed;\r\n};\r\n\r\nexport const isEmpty = obj => {\r\n  if (!obj) return true;\r\n  if (typeof obj === \"string\") return !(obj || \"\").trim();\r\n  if (Array.isArray(obj)) return obj.length === 0;\r\n  if (typeof obj === \"object\") {\r\n    const keys = Object.keys(obj);\r\n    if (keys.length === 0) {\r\n      return obj.constructor === Object;\r\n    } else {\r\n      let empty = true;\r\n      for (let key of keys) {\r\n        if (!isEmpty(obj[key])) {\r\n          empty = false;\r\n          return empty;\r\n        }\r\n      }\r\n      return empty;\r\n    }\r\n  }\r\n};\r\n\r\nexport const isEqual = (a, b) => {\r\n  if ((!a && b) || (a && !b)) return false;\r\n  if (!a && !b) return typeof a === typeof b;\r\n  return FastEqual(a, b);\r\n};\r\n\r\n// export const getKeyboardType = field => {\r\n//   if (isEmpty(field)) return;\r\n//   if (field.name === \"email\") return \"email-address\";\r\n//   if (field.name === \"phone\") return \"phone-pad\";\r\n// };\r\n\r\nexport const getRGBFromStr = (str, s, l) => {\r\n  if (!str) return 0;\r\n\r\n  str = str\r\n    .replace(/\\s/g, \"\")\r\n    .split(\"\")\r\n    .reverse()\r\n    .join(\"\");\r\n\r\n  const sat = s || 50;\r\n  const light = l || 65;\r\n\r\n  let hash = 0;\r\n  for (let i = 0; i < str.length; i++) {\r\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n\r\n  let h = hash % 360;\r\n  return \"hsl(\" + h + \", \" + sat + \"%, \" + light + \"%)\";\r\n};\r\n\r\nexport const isModified = async (input, old, childKey) => {\r\n  let modified = false;\r\n\r\n  for (let key in old) {\r\n    if (!old.hasOwnProperty(key)) continue;\r\n    if (childKey) {\r\n      if (old[key][childKey] !== input[key][childKey]) modified = true;\r\n    } else {\r\n      if (old[key] !== input[key]) modified = true;\r\n    }\r\n  }\r\n  return await modified;\r\n};\r\n\r\nexport const ipsum = () => `\r\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod\r\n    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim\r\n    veniam, quis nostrud exercitation ullamco est laborum.\r\n  `;\r\n\r\nexport const getDisplayNameEng = profile => {\r\n  if (!profile) return \"\";\r\n  if (profile.data) {\r\n    if (typeof profile.data === \"string\") {\r\n      profile = safeParseJSON(profile.data);\r\n    } else {\r\n      profile = profile.data;\r\n    }\r\n  }\r\n  return (\r\n    profile.displayName ||\r\n    ((profile.firstName || profile.lastName) &&\r\n      `${profile.firstName || \"\"} ${profile.lastName || \"\"}`) ||\r\n    \"\"\r\n  );\r\n};\r\n\r\nexport const abbvLastNameDisplayNameEng = displayName => {\r\n  if (!displayName) return \"\";\r\n  const split = displayName.split(/\\s+/g);\r\n  const firstName = split[0];\r\n  const lastName = split[1];\r\n  const lastNameAbbv = lastName && lastName.substring(0, 1) + \".\";\r\n  return `${firstName}${lastNameAbbv && ` ${lastNameAbbv}`}`;\r\n};\r\n\r\nexport const getTimeString24 = date => {\r\n  return (\r\n    date &&\r\n    `${(date.getHours() < 10 ? \"0\" : \"\") +\r\n      date.getHours()}:${(date.getMinutes() < 10 ? \"0\" : \"\") +\r\n      date.getMinutes()}`\r\n  );\r\n};\r\n\r\nexport const getISOStringLocal = date => {\r\n  if (typeof date !== \"object\") date = new Date(date);\r\n  const tzoffset = new Date().getTimezoneOffset() * 60000; //offset in milliseconds\r\n  return new Date(date - tzoffset).toISOString().slice(0, -1);\r\n};\r\n\r\nexport const getDayNameEng = date => {\r\n  const days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n  return days[date.getDay()];\r\n};\r\n\r\nexport const getFullDayNameEng = date => {\r\n  const days = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\"\r\n  ];\r\n  return days[date.getDay()];\r\n};\r\n\r\nexport const getMonthNameEng = date => {\r\n  const months = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\"\r\n  ];\r\n  return months[date.getMonth()];\r\n};\r\n\r\nexport const getFullMonthNameEng = date => {\r\n  const months = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\"\r\n  ];\r\n  return months[date.getMonth()];\r\n};\r\n\r\nexport const getWeekNumber = date => {\r\n  // Copy date so don't modify original\r\n  date = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n  // Set to nearest Thursday: current date + 4 - current day number\r\n  // Make Sunday's day number 7\r\n  date.setUTCDate(date.getUTCDate() + 4 - (date.getUTCDay()||7));\r\n  // Get first day of year\r\n  let yearStart = new Date(Date.UTC(date.getUTCFullYear(),0,1));\r\n  // Calculate full weeks to nearest Thursday\r\n  let weekNo = Math.ceil(( ( (date - yearStart) / 86400000) + 1)/7);\r\n  // Return array of year and week number\r\n  return [date.getUTCFullYear(), weekNo];\r\n};\r\n\r\nexport const preventDefaultStopProp = event => {\r\n  event && typeof event.preventDefault === \"function\" && event.preventDefault();\r\n  event && typeof event.stopPropagation === \"function\" && event.stopPropagation();\r\n};\r\n\r\nexport const stopProp = event => event && typeof event.stopPropagation === \"function\" && event.stopPropagation();\r\n\r\nexport const validateEmail = email => {\r\n  const emailRegex = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/g;\r\n  return emailRegex.test(email);\r\n};\r\n\r\nexport const passwordRegExp = {\r\n  lowerNum8: /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d!@#$%^&*()\\-_=+,.?\"':{}[\\]|<>`/\\\\]{8,}$/g,\r\n  lowerNumSpec8: /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[!@#$%^&*()\\-_=+,.?\"':{}[\\]|<>`/\\\\])[A-Za-z\\d!@#$%^&*()\\-_=+,.?\"':{}[\\]|<>`/\\\\]{8,}$/g,\r\n  upperLowerNum8: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d!@#$%^&*()\\-_=+,.?\"':{}[\\]|<>`/\\\\]{8,}$/g,\r\n  upperLowerNumSpec8: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()\\-_=+,.?\"':{}[\\]|<>`/\\\\])[A-Za-z\\d!@#$%^&*()\\-_=+,.?\"':{}[\\]|<>`/\\\\]{8,}$/g,\r\n};\r\n\r\n// export const validatePassword = (fieldData, field, error, noError, UIText) => {\r\n//   const selectedRegExp = passwordRegExp.lowerNum8;\r\n//\r\n//   if (field === \"oldPassword\") {\r\n//     if (!fieldData.oldPassword) {\r\n//       error.anyPassword = true;\r\n//       return (\r\n//         !noError &&\r\n//         (error.oldPassword = `${UIText.entryRequiring} ${UIText.oldPassword}`)\r\n//       );\r\n//     }\r\n//\r\n//     if (fieldData.password && fieldData.password === fieldData.oldPassword) {\r\n//       error.anyPassword = true;\r\n//       return (\r\n//         !noError && (error.password = UIText.changePasswordSamePasswordError)\r\n//       );\r\n//     } else {\r\n//       error.password = \"\";\r\n//     }\r\n//\r\n//     error.oldPassword = \"\";\r\n//   }\r\n//\r\n//   if (field === \"password\") {\r\n//     if (!fieldData.password) {\r\n//       error.anyPassword = true;\r\n//       return (\r\n//         !noError &&\r\n//         (error.password = `${UIText.entryRequiring} ${UIText.password}`)\r\n//       );\r\n//     }\r\n//\r\n//     if (!selectedRegExp.exp.test(fieldData.password)) {\r\n//       error.anyPassword = true;\r\n//       return !noError && (error.password = selectedRegExp.error);\r\n//     }\r\n//\r\n//     if (fieldData.oldPassword && fieldData.password === fieldData.oldPassword) {\r\n//       error.anyPassword = true;\r\n//       return (\r\n//         !noError && (error.password = UIText.changePasswordSamePasswordError)\r\n//       );\r\n//     } else {\r\n//       error.password = \"\";\r\n//     }\r\n//\r\n//     if (fieldData.repeat && fieldData.password !== fieldData.repeat) {\r\n//       error.anyPassword = true;\r\n//       return (error.repeat = UIText.registrationPasswordNotMatch);\r\n//     } else {\r\n//       error.repeat = \"\";\r\n//     }\r\n//\r\n//     error.password = \"\";\r\n//   }\r\n//\r\n//   if (field === \"repeat\") {\r\n//     if (!fieldData.repeat) {\r\n//       error.anyPassword = true;\r\n//       return !noError && (error.repeat = UIText.registrationConfirmPassword);\r\n//     }\r\n//\r\n//     if (fieldData.password !== fieldData.repeat) {\r\n//       error.anyPassword = true;\r\n//       return !noError && (error.repeat = UIText.registrationPasswordNotMatch);\r\n//     }\r\n//\r\n//     error.repeat = \"\";\r\n//   }\r\n//\r\n//   if (!error.oldPassword && !error.password && !error.repeat)\r\n//     error.anyPassword = false;\r\n// };\r\n\r\nexport const getPriceString = (amount, symbol, comma) => {\r\n  if (!amount || isNaN(amount)) return \"\";\r\n  const neutral = amount >= 0 ? amount : -amount;\r\n  let price = Number(neutral).toFixed(2);\r\n  if (comma) price = price.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return amount >= 0 ? `${symbol || \"$\"}${price}` : `-${symbol || \"$\"}${price}`;\r\n};\r\n\r\nexport const minutesToMilli = minutes => minutes * 60 * 1000;\r\n\r\nexport const hoursToMilli = hours => minutesToMilli(hours * 60);\r\n\r\nexport const daysToMilli = days => hoursToMilli(days * 24);\r\n\r\nexport const yyyymmdd = (Date, separator) => {\r\n  if (!Date) return;\r\n  if (typeof Date.getTime !== \"function\") {\r\n    console.warn(\"Not a valid date object\");\r\n    return Date;\r\n  }\r\n  separator = (typeof separator === \"string\" && separator) || \"/\";\r\n  return `${Date.getFullYear()}${separator}${\r\n    (Date.getMonth() + 1 || \"\").toString().padStart(2, \"0\")\r\n  }${separator}${\r\n    (Date.getDate() || \"\").toString().padStart(2, \"0\")\r\n  }`;\r\n};\r\n\r\nexport const getDatesInBetween = (start, end) => {\r\n  const startDate = new Date(start).setHours(0, 0, 0, 0);\r\n  const endDate = new Date(end).setHours(0, 0, 0, 0);\r\n  let dates = [];\r\n  let remaining = endDate - startDate;\r\n  while (remaining >= daysToMilli(1)) {\r\n    dates.push(new Date(startDate + remaining));\r\n    remaining = remaining - daysToMilli(1);\r\n  }\r\n  dates.reverse();\r\n  return dates;\r\n};\r\n\r\nexport const formatFixedDigit = (value, digits) => {\r\n  console.warn(\"Deprecated formatFixedDigit, use String.prototype['padStart' | 'padEnd'] instead!\");\r\n  if (isNaN(value) || value < 0 || !digits) return value;\r\n  const zeros = \"0\".repeat(digits - 1);\r\n  const threshold = Number(`1${zeros}`) - 1;\r\n  return value > threshold ? value.toString() : `${zeros}${value}`;\r\n};\r\n\r\nexport const parseErrorName = err => {\r\n  if (!err) return \"Unknown error\";\r\n  if (typeof err === \"string\") return err;\r\n  return (((err.response || {}).data || {}).error\r\n    || ((err.response || {}).data || {}).name\r\n    || (`${((err.config || {}).method || \"\").toUpperCase()} ${(err.config || {}).url || \"\"}`).trim()\r\n    || err.name\r\n    || err.error\r\n    || (err.response || {}).statusText\r\n    || \"Error\").toString()\r\n    .concat((err.response || {}).status ? ` [${(err.response || {}).status}]` : \"\");\r\n};\r\n\r\nexport const parseErrorMsg = (err, includeStack) => {\r\n  if (!err || isEmpty(err)) return err;\r\n  if (typeof err === \"string\" || typeof err === \"number\") {\r\n    return err;\r\n  }\r\n  if (typeof err === \"object\") {\r\n    const responseData = err.response && err.response.data;\r\n    if (responseData) {\r\n      if (typeof responseData === \"string\") {\r\n        return responseData.concat(includeStack && err.stack ? `\\n \\n${err.stack}` : \"\");\r\n      }\r\n      if ((responseData.error || responseData.name) &&\r\n        responseData.message &&\r\n        (responseData.trace || responseData.stack)) {\r\n        if (includeStack) {\r\n          return responseData.message.concat(\"\\n \\n\" + responseData.trace || responseData.stack);\r\n        }\r\n        return responseData.message;\r\n      }\r\n      try {\r\n        const errorStr = JSON.stringify(responseData, null, 2);\r\n        if (includeStack && err.stack) return errorStr.concat(\"\\n \\n\" + err.stack);\r\n        return errorStr;\r\n      } catch (e) {\r\n        return e;\r\n      }\r\n    }\r\n    return (err.message || \"No message available\")\r\n    .concat(includeStack && err.stack ? `\\n \\n${err.stack}` : \"\");\r\n  }\r\n  return err;\r\n};\r\n\r\nexport const replaceBaseUrlInString = string => {\r\n  const portString = window.location.port.toString().match(/^80$|^443$/g)\r\n    ? \"\"\r\n    : `:${window.location.port}`;\r\n  // Same domain policy so we don't need to append hostname in this case.\r\n  return string.replace(/{frontendBaseUrl}/g, \"\");\r\n};\r\n\r\nexport const isNonZeroFalse = value => !value && value !== 0;\r\n\r\nexport const evalStringBoolean = value => {\r\n  if (!value) return false;\r\n  if (typeof value === \"boolean\") return value;\r\n  if (typeof value !== \"string\")\r\n    return console.warn(`${value} is not a string or boolean value.`) && false;\r\n  return value === \"true\" ? true : value === \"false\" ? false : value;\r\n};\r\n\r\nexport const getEventRealValue = event => {\r\n  if (!event || !event.detail) return null;\r\n  const { checked, value } = event.detail;\r\n  return checked !== undefined\r\n    ? (checked || undefined)\r\n    : value && (/^[0-9]*$/g).test(value)\r\n    ? Number(value)\r\n    : value;\r\n};\r\n\r\n\r\nexport const contextReject = rejection => Promise.reject(rejection);\r\n\r\nexport const contextResolve = resolution => Promise.resolve(resolution);\r\n\r\nexport const asyncPause = async ms =>\r\n  new Promise(resolve => setTimeout(resolve, ms));\r\n\r\nexport const whenFulfill = conditioner => (async function wait() {\r\n  if (typeof conditioner !== \"function\") return Promise.reject(\"A condition checking function is required.\");\r\n  await asyncPause(250);\r\n  if (!conditioner()) return wait();\r\n  return Promise.resolve(true);\r\n})();\r\n\r\nexport const runInAsync = (method, delay) => async function(...args) {\r\n  new Promise(resolve =>\r\n    setTimeout(() => {\r\n      resolve(method(...arguments));\r\n    }, delay || 0)\r\n  );\r\n};\r\n\r\nexport const getArgsNames = method => {\r\n  const STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\r\n  const ARGUMENT_NAMES = /([^\\s,]+)/g;\r\n  return (func => {\r\n    const fnStr = func.toString().replace(STRIP_COMMENTS, '');\r\n    let result = fnStr.slice(fnStr.indexOf('(')+1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\r\n    if (result === null) result = [];\r\n    return result;\r\n  })(method);\r\n};\r\n\r\nexport const flipCoin = () => [true, false][Math.round(Math.random())];","export const env =\r\n  window.location.protocol.match(/chrome/g)\r\n    ? \"prod\"\r\n    : \"dev\";","// For future configurable flags.\r\nimport { observable } from \"mobx\";\r\n\r\nconst flags = observable({\r\n  storageCleanupDate: 1599263618535\r\n});\r\n\r\nexport default flags;","import { Store } from \"./storage\";\r\nimport { computed } from \"mobx\";\r\n\r\nexport class Controller<StoreType = {}> {\r\n  disposers: (() => void)[] = [];\r\n  disposer: () => void;\r\n  storage: Store<StoreType>;\r\n\r\n  @computed get store(): StoreType {\r\n    return this.storage.data;\r\n  };\r\n\r\n  constructor(storeName?: string) {\r\n    this.storage = new Store(storeName || this.constructor.name);\r\n  }\r\n\r\n  dispose = () => {\r\n    this.disposer && this.disposer();\r\n    this.disposers && this.disposers.map(disposer => disposer());\r\n  }\r\n}","import { computed, observable } from \"mobx\";\r\nimport { languages } from \"../config/languages\";\r\nimport { Controller } from \"../lib/controller\";\r\nimport { LanguageType } from \"../lib/types/miscTypes\";\r\nimport { alertController } from \"@ionic/core\";\r\nimport { env } from \"../config/env\";\r\n\r\n// _UITextStore\r\n// Persistent storage model for\r\n// UIText language preferences and other options.\r\ninterface _UITextStore { preference: LanguageType[\"id\"] }\r\n\r\n// _UIText.\r\n// Main class instance for UIText library used across the web app and its\r\n// persistent data management and store.\r\n// Class instance would contain all dictionary items as its immediate properties.\r\nclass _UIText extends Controller<_UITextStore> {\r\n  [key: string]: any;\r\n\r\n  @observable ready: boolean;\r\n\r\n  @computed get preference() {\r\n    return this.store.preference;\r\n  }\r\n\r\n  constructor() {\r\n    super(\"UIText\");\r\n    this.setUITextLanguage().catch(console.error);\r\n  }\r\n\r\n  get languages(): LanguageType[] {\r\n    return languages.map(lang => ({\r\n      selected: this.preference === lang.id,\r\n      ...lang\r\n    }));\r\n  }\r\n\r\n  get defaultLanguage(): LanguageType {\r\n    return languages.find(lang => lang.default);\r\n  }\r\n\r\n  get defaultDictionary(): LanguageType[\"dictionary\"] {\r\n    return (this.defaultLanguage || {}).dictionary;\r\n  }\r\n\r\n  getLanguage = (id: LanguageType[\"id\"]) =>\r\n    languages.find(lang => lang.id === id);\r\n\r\n  switchLanguage = (id: LanguageType[\"id\"]) => {\r\n    const selected: LanguageType = this.getLanguage(id);\r\n    if (selected) this.store.preference = selected.id;\r\n    return window.location.reload();\r\n  };\r\n\r\n  setUITextLanguage = async () => {\r\n    await this.storage.isReady();\r\n    const selected: LanguageType =\r\n      this.getLanguage(this.preference) ||\r\n      this.getLanguage(navigator.language) ||\r\n      this.defaultLanguage;\r\n    const { dictionary } = selected || {};\r\n\r\n    if (!dictionary) return alertController.create({\r\n      translucent: true,\r\n      header: \"UIText initialization error\",\r\n      message: \"(Dictionary not present)\",\r\n      buttons: [{ text: \"Reload\", handler: () => window.location.reload() }]\r\n    })\r\n    .then(popup => popup.present() && popup);\r\n    _UIText.replaceWithPlaceholderRecurse(this.defaultDictionary, dictionary, this, \"_UIText\");\r\n    this.store.preference = selected.id;\r\n    return this.ready = true;\r\n  };\r\n\r\n  static replaceWithPlaceholderRecurse = (property, dictionary, target, keyName) => {\r\n    const keys = Object.keys(property);\r\n    for (const key of keys) {\r\n      const attributes = { enumerable: true };\r\n      if (dictionary[key]) {\r\n        attributes[\"get\"] = () => dictionary[key];\r\n      } else {\r\n        if (typeof property[key] === \"object\") {\r\n          target[key] = {};\r\n          _UIText.replaceWithPlaceholderRecurse(\r\n            property[key],\r\n            {},\r\n            target[key],\r\n            `${keyName}.${key}`\r\n          );\r\n          continue;\r\n        }\r\n        const value = `{${keyName}.${key}}`;\r\n        attributes[\"value\"] = typeof property[key] === \"function\"\r\n          ? () => value : value;\r\n      }\r\n      Object.defineProperty(target, key, attributes);\r\n    }\r\n  }\r\n}\r\n\r\nexport const UIText = observable(new _UIText());\r\n\r\nexport class UIException implements Error {\r\n  name: string;\r\n  message: string;\r\n  stack: string;\r\n  constructor(exceptionName, private readonly error?) {\r\n    this.name = exceptionName;\r\n    this.message = UIText.exceptions[exceptionName] || exceptionName;\r\n    if (error) this.stack = error.stack;\r\n  }\r\n}\r\n\r\nif (window && env as string !== \"prod\") (window as any).UIText = UIText;","import { computed, observable } from \"mobx\";\r\nimport { SelectInterface } from \"@ionic/core\";\r\n\r\nclass ResponsiveStyles {\r\n  mobileWidth: number = 768;\r\n\r\n  mql = window.matchMedia(`(max-width: ${this.mobileWidth}px)`);\r\n  @observable deviceDimension: {\r\n    isMobile: boolean\r\n  } = {\r\n    isMobile: this.mql.matches\r\n  };\r\n\r\n  // @computed get pickerInterface(): SelectInterface {\r\n  //   return (this.deviceDimension.isMobile\r\n  //     ? isPlatform(\"ios\")\r\n  //     ? \"alert\"\r\n  //     : \"popover\"\r\n  //     : \"popover\") as SelectInterface;\r\n  // };\r\n\r\n  @computed get pickerInterface(): SelectInterface {\r\n    return \"popover\";\r\n  };\r\n\r\n  constructor () {\r\n    this.mql.addListener(event => (\r\n      this.deviceDimension.isMobile = event.matches\r\n    ));\r\n  }\r\n}\r\n\r\nexport const responsive = new ResponsiveStyles();","import { UIPopoverMenuItem } from \"../../lib/types/miscTypes\";\r\nimport { IonIcon, IonItem, IonList, IonText } from \"@ionic/react\";\r\nimport React from \"react\";\r\n\r\nexport const PopoverMenuBase = (menuItems: UIPopoverMenuItem[], dismiss?: (event?: any) => void) => () => (\r\n  <IonList className=\"ion-no-padding\">\r\n    {menuItems.map(item => (\r\n      <IonItem\r\n        key={item.key || item.text}\r\n        button\r\n        lines=\"full\"\r\n        color={item.fill === \"solid\" ? item.color : undefined}\r\n        onClick={event => {\r\n          dismiss && dismiss();\r\n          return item.handler(event);\r\n        }}\r\n      >\r\n        {item.icon && typeof item.icon === \"string\" ? (\r\n          <IonIcon\r\n            slot=\"start\"\r\n            color={(!item.fill || item.fill === \"clear\") ? item.color : \"light\"}\r\n            icon={item.icon}\r\n          />\r\n        ) : item.icon}\r\n        <IonText color={(!item.fill || item.fill === \"clear\") ? item.color : \"light\"}>\r\n          {item.text}\r\n        </IonText>\r\n      </IonItem>\r\n    ))}\r\n  </IonList>\r\n);","import { UIText } from \"./lang\";\r\nimport { env } from \"../config/env\";\r\nimport { Plugins } from \"@capacitor/core\";\r\nimport {\r\n  actionSheetController,\r\n  ActionSheetOptions,\r\n  alertController,\r\n  AlertInput,\r\n  modalController,\r\n  ModalOptions,\r\n  pickerController,\r\n  PickerOptions,\r\n  PopoverOptions,\r\n  toastController,\r\n  ToastOptions\r\n} from \"@ionic/core\";\r\nimport { responsive } from \"../config/styles/responsive\";\r\nimport { computed, observable } from \"mobx\";\r\nimport { isEmpty, parseErrorMsg, parseErrorName, preventDefaultStopProp, randomString } from \"../utils/helpers\";\r\nimport {\r\n  KeyCodeBinding,\r\n  KeyCodeBindingCombos,\r\n  ShowConfirmOptions,\r\n  UIAlertOptions,\r\n  UIErrorOptions,\r\n  UIPopoverMenuOptions\r\n} from \"../lib/types/miscTypes\";\r\nimport { Controller } from \"../lib/controller\";\r\nimport React, { KeyboardEvent } from \"react\";\r\nimport { PopoverMenuBase } from \"../components/PopoverMenuBase\";\r\n\r\nconst { Clipboard } = Plugins;\r\n\r\n// UIStore\r\n// Persistent storage model for UI controller\r\ninterface UIStore {}\r\n\r\n// UI.\r\n// Front-end UI controller class for\r\n// various reusable methods and cross-component state store.\r\nexport class UI extends Controller<UIStore> {\r\n  placeholderAvatarUrl = \"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\";\r\n\r\n  withTranslucent = {\r\n    translucent: true\r\n  };\r\n\r\n  defaultDuration: number = 500;\r\n  defaultToastDuration: number = 1500;\r\n\r\n  @observable popoverProps: PopoverOptions;\r\n  @observable popoverComponent: React.FC;\r\n  @observable popoverVisible: boolean = false;\r\n\r\n  @computed get isMobile(): boolean {\r\n    return responsive.deviceDimension.isMobile\r\n  };\r\n\r\n  copyStringToClipboard = (value: string, noToast?: boolean) => {\r\n    if (!value) return UIText.clipboardNoValue;\r\n\r\n    return Clipboard.write({\r\n      string: value\r\n    })\r\n    .then(() =>\r\n      !noToast && this.toast({\r\n        duration: this.defaultToastDuration * (value.length > 200 ? 2.5 : 1),\r\n        message: UIText.copiedToClipboard(\r\n          value.length > 200\r\n            ? `${value.substr(0, 200)}...${\r\n            value.length - 200\r\n          } ${UIText.generalMore.toLowerCase()} ${UIText.characters.toLowerCase()}`\r\n            : value\r\n        ),\r\n        translucent: true,\r\n        position: this.isMobile ? \"bottom\" : \"top\"\r\n      })\r\n    )\r\n    .catch(err =>\r\n      this.toast({\r\n        duration: this.defaultToastDuration,\r\n        message: err,\r\n        translucent: true,\r\n        position: this.isMobile ? \"bottom\" : \"top\"\r\n      })\r\n    );\r\n  };\r\n\r\n  toast = (options: ToastOptions) => {\r\n    if (isEmpty(options)) return;\r\n    return toastController.create({\r\n      duration: this.defaultToastDuration,\r\n      ...options,\r\n      ...this.withTranslucent,\r\n      position: options.position || (this.isMobile ? \"bottom\" : \"top\")\r\n    })\r\n    .then(toast => toast.present() && toast);\r\n  };\r\n\r\n  alert = (options: UIAlertOptions) => {\r\n    if (isEmpty(options)) return;\r\n    let input;\r\n    if (!isEmpty(options.inputs) && options.enterKeyHandler) {\r\n      // Currently only supports last input in an alert.\r\n      input = options.inputs[options.inputs.length -1];\r\n      input.id = \"ionAlertInput\" + randomString();\r\n    }\r\n    let popup;\r\n    return alertController.create({ ...options, ...this.withTranslucent })\r\n    .then(p => p.present() && (popup = p))\r\n    .then(() => this.bindAlertInputEnterKey(input, options.enterKeyHandler, popup))\r\n    .then(() => popup);\r\n  };\r\n\r\n  action = (options: ActionSheetOptions) => {\r\n    if (isEmpty(options)) return;\r\n    return actionSheetController.create({ ...options, ...this.withTranslucent })\r\n    .then(actionSheet => actionSheet.present() && actionSheet);\r\n  };\r\n\r\n  modal = (options: ModalOptions) => {\r\n    if (isEmpty(options)) return;\r\n    return modalController.create({ ...options, ...this.withTranslucent })\r\n    .then(modal => modal.present() && modal);\r\n  };\r\n\r\n  rollerPicker = (options: PickerOptions) => {\r\n    if (isEmpty(options)) return;\r\n    return pickerController.create({ ...options, ...this.withTranslucent })\r\n    .then(picker => picker.present() && picker);\r\n  };\r\n\r\n  popover = (options: Partial<PopoverOptions> & { component: React.FC, event: any }) => {\r\n    if (isEmpty(options)) return;\r\n    if (options.event) options.event.persist();\r\n    const { component } = options;\r\n    if (!!options.component) delete options.component;\r\n    this.popoverProps = { ...options, ...this.withTranslucent };\r\n    this.popoverComponent = component;\r\n    this.popoverVisible = true;\r\n  };\r\n\r\n  popoverMenu = (options: UIPopoverMenuOptions) => {\r\n    const component = PopoverMenuBase(options.menuItems, this.dismissPopover);\r\n    return this.popover({\r\n      event: options.event,\r\n      component,\r\n      showBackdrop: options.showBackdrop\r\n    });\r\n  };\r\n\r\n  dismissPopover = (event?: any) => this.popoverVisible = false;\r\n\r\n  reconfirm = (options: ShowConfirmOptions) =>\r\n    this.alert({\r\n      header: options.header,\r\n      message: UIText.generalReconfirm(options.verb, options.name),\r\n      backdropDismiss: true,\r\n      buttons: [\r\n        {\r\n          text: UIText.generalNo,\r\n          role: \"cancel\",\r\n          cssClass: \"textDanger\"\r\n        },\r\n        {\r\n          text: UIText.generalYes,\r\n          handler: options.handler\r\n        },\r\n      ]\r\n    });\r\n\r\n  comingSoon = (header?: any) =>\r\n    this.alert({\r\n      header: (typeof header === \"string\" && header) || UIText.title,\r\n      message: UIText.comingSoon,\r\n      backdropDismiss: true,\r\n      buttons: [UIText.generalConfirm]\r\n    });\r\n\r\n  showError = (options: UIErrorOptions) => {\r\n    const { err, actionName, buttons } = options;\r\n    console.warn(err);\r\n    return this.alert({\r\n      header: actionName || UIText.generalError,\r\n      subHeader: (env !== \"prod\" && parseErrorName(err)) || \"\",\r\n      message: parseErrorMsg(err, env !== \"prod\") || \"\",\r\n      backdropDismiss: true,\r\n      cssClass: \"errorAlert\",\r\n      buttons: buttons || [UIText.generalConfirm]\r\n    });\r\n  };\r\n\r\n  bindKeyCode = (eventType: \"onKeyUp\" | \"onKeyDown\", binding: KeyCodeBinding, combo?: KeyCodeBindingCombos) => {\r\n    const handler = (event: KeyboardEvent) => {\r\n      preventDefaultStopProp(event);\r\n      const { keyCode } = event;\r\n      const keyBind = binding[keyCode];\r\n      if (!keyBind || typeof keyBind !== \"function\") return;\r\n      const comboKeys = (combo && Object.keys(combo)) || [];\r\n      for (const keyName of comboKeys) {\r\n        if (!!combo[keyName] && !event[keyName]) return;\r\n        if (combo[keyName] === false && event[keyName]) return;\r\n      }\r\n      return keyBind(event);\r\n    };\r\n    return { [eventType]: handler };\r\n  };\r\n\r\n  bindAlertInputEnterKey = (input: AlertInput, handler: UIAlertOptions[\"enterKeyHandler\"], alert) => {\r\n    if (!input) return;\r\n    const elm = (window as any).document.getElementById(input.id);\r\n    if (elm) {\r\n      elm.onkeyup = (event: KeyboardEvent) => {\r\n        const { keyCode } = event;\r\n        if (keyCode !== 13) return;\r\n        handler({ [input.name]: elm.value });\r\n        return alert.dismiss();\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nexport const ui = new UI();\r\n\r\nif (window && env as string !== \"prod\") (window as any).ui = ui;","import { IonSearchbar } from \"@ionic/react\";\r\nimport React from \"react\";\r\nimport \"./styles.css\";\r\nimport { PredefinedColors } from \"@ionic/core\";\r\nimport { checkmarkDoneSharp } from \"ionicons/icons\";\r\nimport { whenFulfill } from \"../../utils/helpers\";\r\n\r\nexport interface ListControlToolbarProps extends React.HTMLProps<HTMLDivElement> {\r\n  color?: PredefinedColors;\r\n  debounce?: number;\r\n  searchBarPlaceholder?: string;\r\n  onSearchChange: (event: CustomEvent) => void;\r\n  onSelectModeToggle: (event: CustomEvent) => void;\r\n}\r\n\r\nclass ListControlToolbar extends React.Component<ListControlToolbarProps> {\r\n  searchBarElm: HTMLIonSearchbarElement;\r\n  searchBarIconElm: HTMLIonIconElement;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const getSearchBarIconElm = (): HTMLIonIconElement =>\r\n      this.searchBarElm.getElementsByClassName(\"searchbar-search-icon\")[0] as HTMLIonIconElement;\r\n    whenFulfill(() => !!this.searchBarElm)\r\n    .then(() => whenFulfill(() => !!getSearchBarIconElm()))\r\n    .then(() => this.searchBarIconElm = getSearchBarIconElm())\r\n    .then(() => this.searchBarIconElm.onclick = this.handleSearchIconClick);\r\n  }\r\n\r\n  searchBarRef = elm => this.searchBarElm = elm;\r\n\r\n  handleSearchIconClick = (event: any) => this.props.onSelectModeToggle && this.props.onSelectModeToggle(event);\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      color,\r\n      debounce,\r\n      searchBarPlaceholder,\r\n      onSearchChange\r\n    } = this.props;\r\n    return <div className={`flex search listControlToolbar ${className || \"\"}`}>\r\n      <IonSearchbar\r\n        ref={this.searchBarRef}\r\n        className=\"ion-no-padding\"\r\n        debounce={debounce || 100}\r\n        color={color}\r\n        searchIcon={checkmarkDoneSharp}\r\n        onIonChange={onSearchChange}\r\n        placeholder={searchBarPlaceholder}\r\n      />\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default ListControlToolbar;","import { UIPopoverMenuItem } from \"./types/miscTypes\";\r\nimport { UIText } from \"../client/lang\";\r\nimport { ui } from \"../client/ui\";\r\n\r\nexport const matchTabs = (tab: chrome.tabs.Tab, match: string) => {\r\n  match = match && match.trim();\r\n  const regExp = new RegExp(match, \"i\");\r\n  return (tab.url && tab.url.match(regExp)) ||\r\n    (tab.title && tab.title.match(regExp)) ||\r\n    (tab.audible && \"audible\".match(regExp)) ||\r\n    (tab.mutedInfo.muted && \"mute\".match(regExp)) ||\r\n    (tab.active && \"active\".match(regExp));\r\n};\r\n\r\nexport const getTabMenuItems = (tab: chrome.tabs.Tab): UIPopoverMenuItem[] => [\r\n  {\r\n    text: UIText.copyTitle,\r\n    handler: () => ui.copyStringToClipboard(tab.title, true)\r\n  },\r\n  {\r\n    text: UIText.copyUrl,\r\n    handler: () => ui.copyStringToClipboard(tab.url, true)\r\n  },\r\n  {\r\n    text: UIText.duplicateTab,\r\n    handler: () => chrome.tabs.create({ url: tab.url, selected: true })\r\n  },\r\n  {\r\n    text: UIText.duplicateInBg,\r\n    handler: () => chrome.tabs.create({ url: tab.url, selected: false })\r\n  },\r\n  {\r\n    text: UIText.openStandalone,\r\n    handler: () => chrome.windows.create({ url: tab.url, focused: true })\r\n  },\r\n  {\r\n    text: UIText.openInPrivate,\r\n    handler: () => chrome.windows.create({ url: tab.url, focused: true, incognito: true })\r\n  }\r\n]","import Icon from \"@mdi/react\";\r\nimport React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { getIonStyleVal } from \"../../config/styles/style-utils\";\r\nimport { Colors } from \"../../lib/types/miscTypes\";\r\n\r\ninterface MdIconProps extends Pick<React.HTMLProps<HTMLDivElement>, \"className\" | \"onClick\"> {\r\n  icon: string;\r\n  size?: number | string | null;\r\n  color?: Colors | string;\r\n}\r\n\r\nconst MdIcon: React.FC<MdIconProps> = observer(\r\n  ({ className, icon, size, color }) => {\r\n    color = [\r\n      \"primary\", \"secondary\", \"tertiary\", \"success\", \"warning\", \"danger\", \"light\", \"medium\", \"dark\", \"tooling\"\r\n    ].includes(color) ? getIonStyleVal(`--ion-color-${color}`) : color;\r\n    return <Icon className={`mdIcon ${className || \"\"}`} path={icon} size={size || 1} color={color} />;\r\n  });\r\n\r\nexport default MdIcon;","export const getIonStyleVal = (varName: string) =>\r\n  window.getComputedStyle(document.documentElement).getPropertyValue(varName);","import React from \"react\";\r\nimport {\r\n  IonButton,\r\n  IonButtons,\r\n  IonContent,\r\n  IonFab,\r\n  IonFabButton,\r\n  IonFabList,\r\n  IonHeader,\r\n  IonIcon,\r\n  IonList,\r\n  IonListHeader,\r\n  IonPage,\r\n  IonRippleEffect,\r\n  IonText,\r\n} from \"@ionic/react\";\r\nimport { computed, observable } from \"mobx\";\r\nimport { arrayFlat, getEventRealValue, isEmpty, preventDefaultStopProp } from \"../../utils/helpers\";\r\nimport { env } from \"../../config/env\";\r\nimport \"./styles.css\";\r\nimport ListControlToolbar from \"../../components/ListControlToolbar\";\r\nimport { observer } from \"mobx-react\";\r\nimport { defaultFavIconUrl } from \"../../config/constants\";\r\nimport { UIText } from \"../../client/lang\";\r\nimport { getTabMenuItems, matchTabs } from \"../../lib/common\";\r\nimport { ui } from \"../../client/ui\";\r\nimport {\r\n  browsersOutline,\r\n  closeSharp,\r\n  ellipsisVertical,\r\n  optionsOutline,\r\n  refreshSharp,\r\n  volumeHighOutline,\r\n  volumeMuteSharp,\r\n  volumeOffOutline,\r\n} from \"ionicons/icons\";\r\nimport { TabGroup } from \"../../lib/types/dataTypes\";\r\nimport MdIcon from \"../../components/MdIcon\";\r\nimport { mdiCollapseAll, mdiExpandAll } from \"@mdi/js\";\r\nimport { Controller } from \"../../lib/controller\";\r\n\r\nconst TabItem = observer(({ tab, audible, muted, active, onClick, onMouseButton, onContextMenu, onClose, onMute, onRefresh }) => (\r\n  <div\r\n    key={tab.id}\r\n    className={`flex relative ion-activatable ion-align-items-center tabItem ${active ? \"active\" : \"\"}`}\r\n    onClick={onClick}\r\n    onContextMenu={onContextMenu}\r\n    onMouseDown={onMouseButton}\r\n  >\r\n    <img\r\n      className=\"favicon\"\r\n      src={tab.favIconUrl || defaultFavIconUrl}\r\n      alt={tab.title}\r\n    />\r\n    <IonText className=\"flex column font-xxs contentText\">\r\n      <span className=\"title textBold\">{tab.title}</span>\r\n      <span className=\"url\">{tab.url}</span>\r\n    </IonText>\r\n    <IonButtons>\r\n      <IonButton fill=\"clear\" onClick={onClose}>\r\n        <IonIcon icon={closeSharp} />\r\n      </IonButton>\r\n      <IonButton fill=\"clear\" onClick={onRefresh}>\r\n        <IonIcon icon={refreshSharp} />\r\n      </IonButton>\r\n      <IonButton fill=\"clear\" onClick={onMute}>\r\n        <IonIcon\r\n          icon={\r\n            muted\r\n              ? volumeMuteSharp\r\n              : audible\r\n              ? volumeHighOutline\r\n              : volumeOffOutline\r\n          }\r\n        />\r\n      </IonButton>\r\n      <IonButton fill=\"clear\" onClick={onContextMenu}>\r\n        <IonIcon icon={ellipsisVertical} />\r\n      </IonButton>\r\n    </IonButtons>\r\n    <IonRippleEffect />\r\n  </div>\r\n));\r\n\r\ninterface MainStore {\r\n  showOtherWindows: boolean;\r\n}\r\n\r\n@observer\r\nclass MainPage extends React.Component {\r\n  @observable windowId: number;\r\n  @observable tabs: chrome.tabs.Tab[] = [];\r\n  @observable windows: chrome.windows.Window[] = [];\r\n\r\n  @observable searchValue: string = \"\";\r\n  @observable selectMode: boolean = false;\r\n\r\n  @observable loading: boolean = true;\r\n\r\n  controller = new Controller<MainStore>(\"mainPage\");\r\n  @computed get store() { return this.controller.store };\r\n\r\n  @computed get otherTabs(): MainPage[\"tabs\"] {\r\n    return arrayFlat(this.windows.map(w => w.tabs));\r\n  };\r\n  @computed get filteredTabs(): MainPage[\"tabs\"] {\r\n    return this.tabs.filter(tab => matchTabs(tab, this.searchValue));\r\n  };\r\n\r\n  @computed get otherTabGroups(): TabGroup[] {\r\n    return this.windows.filter(w => w.id !== this.windowId).map(window => ({\r\n      id: window.id,\r\n      title: this.getWindowTitle(window),\r\n      tabs: window.tabs\r\n    }));\r\n  };\r\n  @computed get filteredOtherTabGroups(): TabGroup[] {\r\n    const matchedWindows = this.windows.filter(w => w.id !== this.windowId && w.tabs.some(t => matchTabs(t, this.searchValue)));\r\n    return matchedWindows.map(window => ({\r\n      id: window.id,\r\n      title: this.getWindowTitle(window),\r\n      tabs: window.tabs.filter(t => matchTabs(t, this.searchValue))\r\n    }));\r\n  };\r\n  @computed get allTabs(): MainPage[\"tabs\"] {\r\n    return [].concat(this.tabs, this.otherTabs);\r\n  };\r\n\r\n  @computed get showOtherWindows(): boolean {\r\n    return this.store.showOtherWindows;\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialize();\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    this.dispose();\r\n  }\r\n\r\n  initialize = () => {\r\n    if (env === \"prod\") {\r\n      chrome.tabs.onUpdated.addListener(this.getTabs);\r\n      chrome.tabs.onRemoved.addListener(this.getTabs);\r\n      chrome.tabs.onCreated.addListener(this.getTabs);\r\n      (window as any).onbeforeunload = () => this.dispose();\r\n      return this.getTabs();\r\n    }\r\n    this.tabs = require(\"../../test.json\");\r\n  };\r\n\r\n  dispose = () => {\r\n    chrome.tabs.onUpdated.removeListener(this.getTabs);\r\n    chrome.tabs.onRemoved.removeListener(this.getTabs);\r\n    chrome.tabs.onCreated.removeListener(this.getTabs);\r\n  };\r\n\r\n  getTabs = () => chrome.windows.getCurrent({ populate: true }, window => {\r\n    this.windowId = window.id;\r\n    this.tabs = window.tabs || [];\r\n    chrome.windows.getAll({ populate: true }, windows => {\r\n      this.windows = windows;\r\n      this.loading = false;\r\n    });\r\n  });\r\n\r\n  getWindowTitle = (window: chrome.windows.Window) => {\r\n    if (env !== \"prod\") return;\r\n    if (!window) return;\r\n    const activeTab = window.tabs.find(t => t.active);\r\n    return UIText.windowTitle(activeTab.title, window.tabs.length);\r\n  };\r\n\r\n  handleSearchChange = (event: any) => {\r\n    preventDefaultStopProp(event);\r\n    this.searchValue = getEventRealValue(event);\r\n  };\r\n\r\n  handleSelectToggle = (event: any) => {\r\n    preventDefaultStopProp(event);\r\n    this.selectMode = !this.selectMode;\r\n    return ui.toast({\r\n      position: \"top\",\r\n      message: UIText.comingSoon\r\n    });\r\n  };\r\n\r\n  handleTabClick = (event: any, id: number) => {\r\n    preventDefaultStopProp(event);\r\n    if (env !== \"prod\") return;\r\n    const tab = this.allTabs.find(tab => tab.id === id);\r\n    if (!tab) return;\r\n    if (event.ctrlKey) {\r\n      return chrome.tabs.create({ url: tab.url, selected: false });\r\n    }\r\n    if (tab.windowId) chrome.windows.update(tab.windowId, { focused: true });\r\n    return chrome.tabs.update(id, { selected: true });\r\n  };\r\n\r\n  handleMouseButton = (event: any, id: number) => {\r\n    preventDefaultStopProp(event);\r\n    if (env !== \"prod\") return;\r\n    if (!event.button || event.button !== 1) return;\r\n    const tab = this.allTabs.find(tab => tab.id === id);\r\n    if (!tab) return;\r\n    return chrome.tabs.create({ url: tab.url, selected: false });\r\n  };\r\n\r\n  handleWindowClick = (event: any, id: number) => {\r\n    preventDefaultStopProp(event);\r\n    if (env !== \"prod\") return;\r\n    const window = this.windows.find(w => w.id === id);\r\n    if (!window) return;\r\n    return chrome.windows.update(id, { focused: true });\r\n  };\r\n\r\n  handleMenu = (event: any, id: number) => {\r\n    event.persist();\r\n    preventDefaultStopProp(event);\r\n    const tab = this.allTabs.find(tab => tab.id === id);\r\n    if (!tab) return;\r\n    const menuItems = getTabMenuItems(tab);\r\n    ui.popoverMenu({\r\n      event,\r\n      menuItems,\r\n      showBackdrop: false\r\n    });\r\n    return false;\r\n  };\r\n\r\n  handleClose = (event: any, id: number) => {\r\n    preventDefaultStopProp(event);\r\n    if (env !== \"prod\") return;\r\n    const tab = this.allTabs.find(tab => tab.id === id);\r\n    if (!tab) return;\r\n    return chrome.tabs.remove(tab.id);\r\n  };\r\n\r\n  handleRefresh = (event: any, id: number) => {\r\n    preventDefaultStopProp(event);\r\n    if (env !== \"prod\") return;\r\n    const tab = this.allTabs.find(tab => tab.id === id);\r\n    if (!tab) return;\r\n    return chrome.tabs.reload(tab.id);\r\n  };\r\n\r\n  handleMute = (event: any, id: number) => {\r\n    preventDefaultStopProp(event);\r\n    if (env !== \"prod\") return;\r\n    const tab = this.allTabs.find(tab => tab.id === id);\r\n    if (!tab) return;\r\n    return chrome.tabs.update(tab.id, { muted: !tab.mutedInfo.muted });\r\n  };\r\n\r\n  renderTabItem = (tab: chrome.tabs.Tab) => <TabItem\r\n    key={tab.id}\r\n    tab={tab}\r\n    audible={tab.audible}\r\n    muted={tab.mutedInfo.muted}\r\n    active={tab.active}\r\n    onClose={e => this.handleClose(e, tab.id)}\r\n    onRefresh={e => this.handleRefresh(e, tab.id)}\r\n    onMute={e => this.handleMute(e, tab.id)}\r\n    onClick={e => this.handleTabClick(e, tab.id)}\r\n    onMouseButton={e => this.handleMouseButton(e, tab.id)}\r\n    onContextMenu={e => this.handleMenu(e, tab.id)}\r\n  />;\r\n\r\n  renderTabGroup = group => <>\r\n    <IonListHeader color=\"light\" className=\"windowTitle font-xs textBold textDarkMedium\" lines=\"full\">\r\n      <IonText>{group.title}</IonText>\r\n      <IonButton className=\"noHover\" fill=\"clear\" size=\"small\" onClick={e => this.handleWindowClick(e, group.id)}>\r\n        <IonIcon icon={browsersOutline} />\r\n      </IonButton>\r\n    </IonListHeader>\r\n    {group.tabs.map(this.renderTabItem)}\r\n  </>;\r\n\r\n  render() {\r\n    return <IonPage className=\"mainPage\">\r\n      <IonHeader translucent>\r\n        <ListControlToolbar\r\n          className=\"searchTool\"\r\n          color=\"light\"\r\n          debounce={50}\r\n          searchBarPlaceholder={UIText.searchForTabs}\r\n          onSearchChange={this.handleSearchChange}\r\n          onSelectModeToggle={this.handleSelectToggle}\r\n        />\r\n      </IonHeader>\r\n      <IonContent>\r\n        {!this.loading && (\r\n          this.searchValue ? (\r\n            <IonList className=\"ion-no-padding\">\r\n              {!isEmpty(this.filteredTabs) && <>\r\n                <IonListHeader color=\"light\" className=\"windowTitle font-xs textBold textDarkMedium\" lines=\"full\">\r\n                  <IonText>{UIText.currentWindow}</IonText>\r\n                </IonListHeader>\r\n                {this.filteredTabs.map(this.renderTabItem)}\r\n              </>}\r\n              {!isEmpty(this.filteredOtherTabGroups) && this.filteredOtherTabGroups.map(this.renderTabGroup)}\r\n            </IonList>\r\n          ) : this.showOtherWindows ? (\r\n            <IonList className=\"ion-no-padding\">\r\n              <IonListHeader color=\"light\" className=\"windowTitle font-xs textBold textDarkMedium\" lines=\"full\">\r\n                <IonText>{UIText.currentWindow}</IonText>\r\n              </IonListHeader>\r\n              {this.tabs.map(this.renderTabItem)}\r\n              {this.otherTabGroups.map(this.renderTabGroup)}\r\n            </IonList>\r\n          ) : (\r\n            <IonList className=\"ion-no-padding\">\r\n              {this.tabs.map(this.renderTabItem)}\r\n            </IonList>\r\n          )\r\n        )}\r\n\r\n        <IonFab\r\n          className=\"noHover\"\r\n          vertical=\"bottom\"\r\n          horizontal=\"center\"\r\n          slot=\"fixed\"\r\n        >\r\n          <IonFabButton>\r\n            <IonIcon icon={optionsOutline} />\r\n          </IonFabButton>\r\n          <IonFabList side=\"top\">\r\n            <IonFabButton onClick={() => this.store.showOtherWindows = !this.store.showOtherWindows}>\r\n              <MdIcon icon={this.showOtherWindows ? mdiCollapseAll : mdiExpandAll} />\r\n            </IonFabButton>\r\n          </IonFabList>\r\n        </IonFab>\r\n      </IonContent>\r\n    </IonPage>;\r\n  }\r\n}\r\n\r\nexport default MainPage;","export const defaultFavIconUrl = \"https://assets.msn.com/statics/icons/ntp-favicon.png\";\r\n","import React from \"react\";\r\nimport { IonApp, setupConfig } from \"@ionic/react\";\r\nimport { observer } from \"mobx-react\";\r\n/* Core CSS required for Ionic components to work properly */\r\nimport \"@ionic/react/css/core.css\";\r\n/* Basic CSS for apps built with Ionic */\r\nimport \"@ionic/react/css/normalize.css\";\r\nimport \"@ionic/react/css/structure.css\";\r\nimport \"@ionic/react/css/typography.css\";\r\n/* Optional CSS utils that can be commented out */\r\nimport \"@ionic/react/css/padding.css\";\r\nimport \"@ionic/react/css/float-elements.css\";\r\nimport \"@ionic/react/css/text-alignment.css\";\r\nimport \"@ionic/react/css/text-transformation.css\";\r\nimport \"@ionic/react/css/flex-utils.css\";\r\nimport \"@ionic/react/css/display.css\";\r\n/* Theme variables */\r\nimport \"./config/styles/ionic/variables.css\";\r\nimport \"./config/styles/global.css\";\r\n/* Components */\r\nimport PopoverContainer from \"./components/PopoverContainer\";\r\n/* App Modules */\r\nimport { UI, ui } from \"./client/ui\";\r\nimport MainPage from \"./pages/MainPage\";\r\nimport { UIText } from \"./client/lang\";\r\n\r\n// To keep platform styling consistency, set all styling mode to Material.\r\nsetupConfig({\r\n  mode: \"md\"\r\n});\r\n\r\n@observer\r\nclass App extends React.Component {\r\n  ui: UI;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.ui = ui;\r\n  };\r\n\r\n  render() {\r\n    return UIText.ready ? <IonApp>\r\n      <MainPage />\r\n      <PopoverContainer ui={this.ui} />\r\n    </IonApp> : null;\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./app\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}