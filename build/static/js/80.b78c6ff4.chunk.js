(this["webpackJsonpcom.jtworks.chrome-ext.alltabs"]=this["webpackJsonpcom.jtworks.chrome-ext.alltabs"]||[]).push([[80],{103:function(e,t,c){"use strict";c.r(t),c.d(t,"startInputShims",(function(){return x}));var d=c(14),v=c(91),b=c(22),p=(c(89),new WeakMap),h=function relocateInput(e,t,c,d,v){void 0===d&&(d=0),void 0===v&&(v=!1),p.has(e)!==c&&(c?g(e,t,d,v):S(e,t))},w=function isFocused(e){return e===e.getRootNode().activeElement},g=function addClone(e,t,c,d){void 0===d&&(d=!1);var v=t.parentNode,b=t.cloneNode(!1);b.classList.add("cloned-input"),b.tabIndex=-1,d&&(b.disabled=!0),v.appendChild(b),p.set(e,b);var h="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform="translate3d(".concat(h,"px,").concat(c,"px,0) scale(0)")},S=function removeClone(e,t){var c=p.get(e);c&&(p.delete(e),c.remove()),e.style.pointerEvents="",t.style.transform=""},E="input, textarea, [no-blur], [contenteditable]",y=function calcScrollData(e,t,c,d){var v=e.top,b=e.bottom,p=t.top,h=p+15,w=.75*Math.min(t.bottom,d-c)-b,g=h-v,S=Math.round(w<0?-w:g>0?-g:0),E=Math.min(S,v-p),y=Math.abs(E)/.3;return{scrollAmount:E,scrollDuration:Math.min(400,Math.max(150,y)),scrollPadding:c,inputSafeY:4-(v-h)}},O=function jsSetFocus(e,t,c,p,w,g){return void 0===g&&(g=!1),Object(d.a)(void 0,void 0,void 0,(function(){var S,E,O,j,L,D;return Object(d.c)(this,(function(x){switch(x.label){case 0:return c||p?(S=function getScrollData(e,t,c){var d,v=null!==(d=e.closest("ion-item,[ion-item]"))&&void 0!==d?d:e;return y(v.getBoundingClientRect(),t.getBoundingClientRect(),c,e.ownerDocument.defaultView.innerHeight)}(e,c||p,w),c&&Math.abs(S.scrollAmount)<4?(t.focus(),[2]):(h(e,t,!0,S.inputSafeY,g),t.focus(),Object(b.r)((function(){return e.click()})),"undefined"===typeof window?[3,3]:(O=function u(){return Object(d.a)(void 0,void 0,void 0,(function(){return Object(d.c)(this,(function(d){switch(d.label){case 0:return void 0!==E&&clearTimeout(E),window.removeEventListener("ionKeyboardDidShow",j),window.removeEventListener("ionKeyboardDidShow",O),c?[4,Object(v.c)(c,0,S.scrollAmount,S.scrollDuration)]:[3,2];case 1:d.sent(),d.label=2;case 2:return h(e,t,!1,S.inputSafeY),t.focus(),[2]}}))}))},j=function s(){window.removeEventListener("ionKeyboardDidShow",j),window.addEventListener("ionKeyboardDidShow",O)},c?[4,Object(v.g)(c)]:[3,2]))):[2];case 1:if(L=x.sent(),D=L.scrollHeight-L.clientHeight,S.scrollAmount>D-L.scrollTop)return"password"===t.type?(S.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",j)):window.addEventListener("ionKeyboardDidShow",O),E=setTimeout(O,1e3),[2];x.label=2;case 2:O(),x.label=3;case 3:return[2]}}))}))},j=function hasPointerMoved(e,t,c){if(t&&c){var d=t.x-c.x,v=t.y-c.y;return d*d+v*v>e*e}return!1},L="$ionPaddingTimer",D=function setScrollPadding(e,t){var c,d;if("INPUT"===e.tagName&&(!e.parentElement||"ION-INPUT"!==e.parentElement.tagName)&&"ION-SEARCHBAR"!==(null===(d=null===(c=e.parentElement)||void 0===c?void 0:c.parentElement)||void 0===d?void 0:d.tagName)){var b=Object(v.f)(e);if(null!==b){var p=b[L];p&&clearTimeout(p),t>0?b.style.setProperty("--keyboard-offset","".concat(t,"px")):b[L]=setTimeout((function(){b.style.setProperty("--keyboard-offset","0px")}),120)}}},x=function startInputShims(e,t){var c=document,p="ios"===t,g="android"===t,S=e.getNumber("keyboardHeight",290),y=e.getBoolean("scrollAssist",!0),L=e.getBoolean("hideCaretOnScroll",p),x=e.getBoolean("inputBlurring",p),k=e.getBoolean("scrollPadding",!0),A=Array.from(c.querySelectorAll("ion-input, ion-textarea")),I=new WeakMap,M=new WeakMap,N=function f(e){return Object(d.a)(void 0,void 0,void 0,(function(){var t,c,p,E,D;return Object(d.c)(this,(function(d){switch(d.label){case 0:return[4,new Promise((function(t){return Object(b.c)(e,t)}))];case 1:return d.sent(),t=e.shadowRoot||e,c=t.querySelector("input")||t.querySelector("textarea"),p=Object(v.f)(e),E=p?null:e.closest("ion-footer"),c?(p&&L&&!I.has(e)&&(D=function enableHideCaretOnScroll(e,t,c){if(!c||!t)return function(){};var d=function r(c){w(t)&&h(e,t,c)},v=function o(){return h(e,t,!1)},p=function a(){return d(!0)},g=function i(){return d(!1)};return Object(b.a)(c,"ionScrollStart",p),Object(b.a)(c,"ionScrollEnd",g),t.addEventListener("blur",v),function(){Object(b.b)(c,"ionScrollStart",p),Object(b.b)(c,"ionScrollEnd",g),t.removeEventListener("blur",v)}}(e,c,p),I.set(e,D)),"date"===c.type||"datetime-local"===c.type||!p&&!E||!y||M.has(e)||(D=function enableScrollAssist(e,t,c,d,v,p){var h;void 0===p&&(p=!1);var g=function l(e){h=Object(b.p)(e)},S=function u(g){if(h){var u=Object(b.p)(g);j(6,h,u)||w(t)||O(e,t,c,d,v,p)}};return e.addEventListener("touchstart",g,{capture:!0,passive:!0}),e.addEventListener("touchend",S,!0),function(){e.removeEventListener("touchstart",g,!0),e.removeEventListener("touchend",S,!0)}}(e,c,p,E,S,g),M.set(e,D)),[2]):[2]}}))}))};x&&function enableInputBlurring(){var e=!0,t=!1,c=document,d=function r(){t=!0},v=function o(){e=!0},p=function a(d){if(t)t=!1;else{var v=c.activeElement;if(v&&!v.matches(E)){var a=d.target;a!==v&&(a.matches(E)||a.closest(E)||(e=!1,setTimeout((function(){e||v.blur()}),50)))}}};Object(b.a)(c,"ionScrollStart",d),c.addEventListener("focusin",v,!0),c.addEventListener("touchend",p,!1)}(),k&&function enableScrollPadding(e){var t=document,c=function n(t){D(t.target,e)},d=function r(e){D(e.target,0)};t.addEventListener("focusin",c),t.addEventListener("focusout",d)}(S);for(var P=0,B=A;P<B.length;P++){var T=B[P];N(T)}c.addEventListener("ionInputDidLoad",(function(e){N(e.detail)})),c.addEventListener("ionInputDidUnload",(function(e){!function m(e){var t;L&&((t=I.get(e))&&t(),I.delete(e)),y&&((t=M.get(e))&&t(),M.delete(e))}(e.detail)}))}}}]);