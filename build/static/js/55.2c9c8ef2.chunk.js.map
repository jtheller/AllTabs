{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5/tap-click-252af35a.js"],"names":["startTapClick","config","scrollingEl","activatableEle","activeRipple","activeDefer","lastTouch","MOUSE_WAIT","lastActivated","useRippleEffect","getBoolean","clearDefers","WeakMap","onTouchEnd","ev","pointerUp","cancelActive","clearTimeout","undefined","removeActivated","pointerDown","isScrolling","parentElement","setActivatedElement","getActivatableTarget","el","_a","x","y","has","Error","classList","contains","ACTIVATED","addActivated","deferId","get","delete","delay","isInstant","ADD_ACTIVATED_DEFERS","remove","setTimeout","Date","now","add","rippleEffect","getRippleEffect","addRipple","removeRipple","then","smooth","active","time","CLEAR_STATE_DEFERS","set","doc","document","addEventListener","target","onTouchStart","onMouseDown","t","onMouseUp","composedPath","closest","path","i","length","shadowRoot","ripple","querySelector"],"mappings":"yJAAA,iEAEIA,EAAgB,SAASA,cAAcC,GACzC,IAEIC,EACAC,EACAC,EACAC,EALAC,EAA0B,IAAbC,EACbC,EAAgB,EAKhBC,EAAkBR,EAAOS,WAAW,YAAY,IAAST,EAAOS,WAAW,gBAAgB,GAC3FC,EAAc,IAAIC,QAYlBC,EAAa,SAASA,WAAWC,GACnCR,EAAY,YAAIQ,GAChBC,EAAUD,IAmBRE,EAAe,SAASA,eAC1BC,aAAaZ,GACbA,OAAca,EAEVf,IACFgB,GAAgB,GAChBhB,OAAiBe,IAIjBE,EAAc,SAASA,YAAYN,GACjCX,GA1CY,SAASkB,cACzB,YAAuBH,IAAhBhB,GAA2D,OAA9BA,EAAYoB,cAyC1BD,KAItBnB,OAAcgB,EACdK,EAAoBC,EAAqBV,GAAKA,KAG5CC,EAAY,SAASA,UAAUD,GACjCS,OAAoBL,EAAWJ,IAG7BS,EAAsB,SAASA,oBAAoBE,EAAIX,GAEzD,IAAIW,GAAMA,IAAOtB,EAAjB,CAIAc,aAAaZ,GACbA,OAAca,EAEd,IAAIQ,EAAK,YAAaZ,GAClBa,EAAID,EAAGC,EACPC,EAAIF,EAAGE,EAGX,GAAIzB,EAAgB,CAClB,GAAIQ,EAAYkB,IAAI1B,GAClB,MAAM,IAAI2B,MAAM,kBAGb3B,EAAe4B,UAAUC,SAASC,IACrCC,EAAa/B,EAAgBwB,EAAGC,GAGlCT,GAAgB,GAIlB,GAAIM,EAAI,CACN,IAAIU,EAAUxB,EAAYyB,IAAIX,GAE1BU,IACFlB,aAAakB,GACbxB,EAAY0B,OAAOZ,IAGrB,IAAIa,EAAQC,EAAUd,GAAM,EAAIe,EAChCf,EAAGM,UAAUU,OAAOR,GACpB5B,EAAcqC,YAAW,WACvBR,EAAaT,EAAIE,EAAGC,GACpBvB,OAAca,IACboB,GAGLnC,EAAiBsB,IAGfS,EAAe,SAASA,aAAaT,EAAIE,EAAGC,GAC9CpB,EAAgBmC,KAAKC,MACrBnB,EAAGM,UAAUc,IAAIZ,GACjB,IAAIa,EAAerC,GAAmBsC,EAAgBtB,GAElDqB,GAAgBA,EAAaE,YAC/BC,IACA7C,EAAe0C,EAAaE,UAAUrB,EAAGC,KAIzCqB,EAAe,SAASA,oBACL/B,IAAjBd,IACFA,EAAa8C,MAAK,SAAUT,GAC1B,OAAOA,OAETrC,OAAec,IAIfC,EAAkB,SAASA,gBAAgBgC,GAC7CF,IACA,IAAIG,EAASjD,EAEb,GAAKiD,EAAL,CAIA,IAAIC,EAAOC,EAAqBX,KAAKC,MAAQpC,EAE7C,GAAI2C,GAAUE,EAAO,IAAMd,EAAUa,GAAS,CAC5C,IAAIjB,EAAUO,YAAW,WACvBU,EAAOrB,UAAUU,OAAOR,GACxBtB,EAAY0B,OAAOe,KAClBE,GACH3C,EAAY4C,IAAIH,EAAQjB,QAExBiB,EAAOrB,UAAUU,OAAOR,KAIxBuB,EAAMC,SACVD,EAAIE,iBAAiB,kBAAkB,SAAU5C,GAC/CZ,EAAcY,EAAG6C,OACjB3C,OAEFwC,EAAIE,iBAAiB,gBAAgB,WACnCxD,OAAcgB,KAEhBsC,EAAIE,iBAAiB,qBAAsB1C,GAC3CwC,EAAIE,iBAAiB,cAjJF,SAASE,aAAa9C,GACvCR,EAAY,YAAIQ,GAChBM,EAAYN,MA+ImC,GACjD0C,EAAIE,iBAAiB,cAAe7C,GAAY,GAChD2C,EAAIE,iBAAiB,WAAY7C,GAAY,GAC7C2C,EAAIE,iBAAiB,aA1IH,SAASG,YAAY/C,GACrC,IAAIgD,EAAI,YAAIhD,GAAMP,EAEdD,EAAYwD,GACd1C,EAAYN,MAsI+B,GAC/C0C,EAAIE,iBAAiB,WAnIL,SAASK,UAAUjD,GACjC,IAAIgD,EAAI,YAAIhD,GAAMP,EAEdD,EAAYwD,GACd/C,EAAUD,MA+H6B,IAGzCU,EAAuB,SAASA,qBAAqBV,GACvD,IAAIA,EAAGkD,aAWL,OAAOlD,EAAG6C,OAAOM,QAAQ,oBARzB,IAFA,IAAIC,EAAOpD,EAAGkD,eAELG,EAAI,EAAGA,EAAID,EAAKE,OAAS,EAAGD,IAAK,CACxC,IAAI1C,EAAKyC,EAAKC,GAEd,GAAI1C,EAAGM,WAAaN,EAAGM,UAAUC,SAAS,mBACxC,OAAOP,IAQXc,EAAY,SAASA,UAAUd,GACjC,OAAOA,EAAGM,UAAUC,SAAS,4BAG3Be,EAAkB,SAASA,gBAAgBtB,GAC7C,GAAIA,EAAG4C,WAAY,CACjB,IAAIC,EAAS7C,EAAG4C,WAAWE,cAAc,qBAEzC,GAAID,EACF,OAAOA,EAIX,OAAO7C,EAAG8C,cAAc,sBAGtBtC,EAAY,gBACZO,EAAuB,IACvBc,EAAqB,IACrB/C,EAAa","file":"static/js/55.2c9c8ef2.chunk.js","sourcesContent":["import { n as now, p as pointerCoord } from './helpers-5c745fbd.js';\n\nvar startTapClick = function startTapClick(config) {\n  var lastTouch = -MOUSE_WAIT * 10;\n  var lastActivated = 0;\n  var scrollingEl;\n  var activatableEle;\n  var activeRipple;\n  var activeDefer;\n  var useRippleEffect = config.getBoolean('animated', true) && config.getBoolean('rippleEffect', true);\n  var clearDefers = new WeakMap();\n\n  var isScrolling = function isScrolling() {\n    return scrollingEl !== undefined && scrollingEl.parentElement !== null;\n  }; // Touch Events\n\n\n  var onTouchStart = function onTouchStart(ev) {\n    lastTouch = now(ev);\n    pointerDown(ev);\n  };\n\n  var onTouchEnd = function onTouchEnd(ev) {\n    lastTouch = now(ev);\n    pointerUp(ev);\n  };\n\n  var onMouseDown = function onMouseDown(ev) {\n    var t = now(ev) - MOUSE_WAIT;\n\n    if (lastTouch < t) {\n      pointerDown(ev);\n    }\n  };\n\n  var onMouseUp = function onMouseUp(ev) {\n    var t = now(ev) - MOUSE_WAIT;\n\n    if (lastTouch < t) {\n      pointerUp(ev);\n    }\n  };\n\n  var cancelActive = function cancelActive() {\n    clearTimeout(activeDefer);\n    activeDefer = undefined;\n\n    if (activatableEle) {\n      removeActivated(false);\n      activatableEle = undefined;\n    }\n  };\n\n  var pointerDown = function pointerDown(ev) {\n    if (activatableEle || isScrolling()) {\n      return;\n    }\n\n    scrollingEl = undefined;\n    setActivatedElement(getActivatableTarget(ev), ev);\n  };\n\n  var pointerUp = function pointerUp(ev) {\n    setActivatedElement(undefined, ev);\n  };\n\n  var setActivatedElement = function setActivatedElement(el, ev) {\n    // do nothing\n    if (el && el === activatableEle) {\n      return;\n    }\n\n    clearTimeout(activeDefer);\n    activeDefer = undefined;\n\n    var _a = pointerCoord(ev),\n        x = _a.x,\n        y = _a.y; // deactivate selected\n\n\n    if (activatableEle) {\n      if (clearDefers.has(activatableEle)) {\n        throw new Error('internal error');\n      }\n\n      if (!activatableEle.classList.contains(ACTIVATED)) {\n        addActivated(activatableEle, x, y);\n      }\n\n      removeActivated(true);\n    } // activate\n\n\n    if (el) {\n      var deferId = clearDefers.get(el);\n\n      if (deferId) {\n        clearTimeout(deferId);\n        clearDefers.delete(el);\n      }\n\n      var delay = isInstant(el) ? 0 : ADD_ACTIVATED_DEFERS;\n      el.classList.remove(ACTIVATED);\n      activeDefer = setTimeout(function () {\n        addActivated(el, x, y);\n        activeDefer = undefined;\n      }, delay);\n    }\n\n    activatableEle = el;\n  };\n\n  var addActivated = function addActivated(el, x, y) {\n    lastActivated = Date.now();\n    el.classList.add(ACTIVATED);\n    var rippleEffect = useRippleEffect && getRippleEffect(el);\n\n    if (rippleEffect && rippleEffect.addRipple) {\n      removeRipple();\n      activeRipple = rippleEffect.addRipple(x, y);\n    }\n  };\n\n  var removeRipple = function removeRipple() {\n    if (activeRipple !== undefined) {\n      activeRipple.then(function (remove) {\n        return remove();\n      });\n      activeRipple = undefined;\n    }\n  };\n\n  var removeActivated = function removeActivated(smooth) {\n    removeRipple();\n    var active = activatableEle;\n\n    if (!active) {\n      return;\n    }\n\n    var time = CLEAR_STATE_DEFERS - Date.now() + lastActivated;\n\n    if (smooth && time > 0 && !isInstant(active)) {\n      var deferId = setTimeout(function () {\n        active.classList.remove(ACTIVATED);\n        clearDefers.delete(active);\n      }, CLEAR_STATE_DEFERS);\n      clearDefers.set(active, deferId);\n    } else {\n      active.classList.remove(ACTIVATED);\n    }\n  };\n\n  var doc = document;\n  doc.addEventListener('ionScrollStart', function (ev) {\n    scrollingEl = ev.target;\n    cancelActive();\n  });\n  doc.addEventListener('ionScrollEnd', function () {\n    scrollingEl = undefined;\n  });\n  doc.addEventListener('ionGestureCaptured', cancelActive);\n  doc.addEventListener('touchstart', onTouchStart, true);\n  doc.addEventListener('touchcancel', onTouchEnd, true);\n  doc.addEventListener('touchend', onTouchEnd, true);\n  doc.addEventListener('mousedown', onMouseDown, true);\n  doc.addEventListener('mouseup', onMouseUp, true);\n};\n\nvar getActivatableTarget = function getActivatableTarget(ev) {\n  if (ev.composedPath) {\n    var path = ev.composedPath();\n\n    for (var i = 0; i < path.length - 2; i++) {\n      var el = path[i];\n\n      if (el.classList && el.classList.contains('ion-activatable')) {\n        return el;\n      }\n    }\n  } else {\n    return ev.target.closest('.ion-activatable');\n  }\n};\n\nvar isInstant = function isInstant(el) {\n  return el.classList.contains('ion-activatable-instant');\n};\n\nvar getRippleEffect = function getRippleEffect(el) {\n  if (el.shadowRoot) {\n    var ripple = el.shadowRoot.querySelector('ion-ripple-effect');\n\n    if (ripple) {\n      return ripple;\n    }\n  }\n\n  return el.querySelector('ion-ripple-effect');\n};\n\nvar ACTIVATED = 'ion-activated';\nvar ADD_ACTIVATED_DEFERS = 200;\nvar CLEAR_STATE_DEFERS = 200;\nvar MOUSE_WAIT = 2500;\nexport { startTapClick };"],"sourceRoot":""}